type User @entity {
  id: ID!
  address: Bytes!
  token: [RAYToken!]! @derivedFrom(field: "owner")
}

type RAYToken @entity {
  id: ID!
  owner: User!
  portfolio: Portfolio!
  value: BigInt!
}

type Opportunity @entity {
  id: ID!
  portfolio: Portfolio!
  token: OpportunityToken!
}

type Portfolio @entity {
  id: ID!
  opportunities: [Opportunity!]! @derivedFrom(field: "portfolio")
}

type OpportunityToken @entity {
  id: ID!
  opportunities: [Opportunity!]! @derivedFrom(field: "token")
}
